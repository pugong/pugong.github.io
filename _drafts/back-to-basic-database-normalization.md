---
layout: post
title: 数据库的那些事儿
description: log
category: Tech
tags: [Tech, Database, Normalization]
---

## Schemaa 设计

### 表设计

数据库的表设计是当前研发必不可少的活动之一，数据库schema没有设计好的话应用端就要花费数倍的时间来补救。

数据库的表设计一般建议遵循第三范式。三犯式的定义如下：

* 第一范式：无重复的域，即所有字段值都是不可分解的原子值
* 第二范式：实体的属性完全依赖于主关键字，即一张表只能保存一种数据，不可以把多种数据保存在同一张数据库表中
* 第三范式：任何非主属性不依赖于其它非主属性，即每一列数据都和主键直接相关，而不能间接相关
* 巴斯-科德范式(BCNF): 任何非主属性不能对主键子集依赖, 即每一列的其他数据都依赖于且仅依赖于主键，是对第三范式的增强。

以常用的班级，学生，课程，成绩为例

第一范式下的记录：

| class_id | class_name | student_id | student_name | course_id | course_name | score | exam_dt | score_dt | audit_dt | ... |
|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|
|1|新冠193班|1907051|张三|cs001|计算机原理|90|2019-12-28|2020-01-03|2020-01-17| ... |

### 索引

### 约束

### 数据库维护

## SQL编写