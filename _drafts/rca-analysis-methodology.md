---
layout: post
title: RCA分析方法论
description: 对于参与的RCA故障分析而引发的思考
category: blog
tags: rca postmortem analysis methodology 方法论
hide_title: true
---
{% include JB/setup %}

### 何为有效的RCA分析

### 有效的RCA分析前提

* 组织
  * Blameless文化
  * 视为机会而不是惩罚
  * 信任
  * 信息公开透明
* 参与者
  * 扎实的基础知识
  * 开放及合作的心态
  * 在指责他人之前先找出自己是否有做的不足的地方

### 方法

* 5 Why

以考试成绩没考好为例首先简单分析

```mermaid
flowchart TD
    Q(期末考试没考好) --> W1(考场上睡着了)
        W1 --> W2(没有休息好导致考场睡着)
        W2 --> W3(熬夜看世界杯导致没有休息好)
        W3 --> W4(有同学看喊着一起去看)
        W4 --> W5(为了面子就答应一起去看)
```

很多时候原因

```mermaid
flowchart TD
    Q(问题) --> W1(原因1)
    subgraph 子因1
        W1 --> W2(什么导致了原因1)
        W2 --> W3(什么导致了原因2)
        W3 --> W4(什么导致了原因3)
        W4 --> W5(什么导致了原因4)
    end
    Q--> WH2
    subgraph 子因2
        WH2 --> WH3(什么导致了原因1)
        WH3 --> WH4(什么导致了原因2)
        WH4 --> WH5(什么导致了原因3)
        WH5 --> WH6(什么导致了原因4)
    end
    Q--> WHY2
    subgraph 子因3
        WHY2 --> WHY3(什么导致了原因1)
        WHY3 --> WHY4(什么导致了原因2)
        WHY4 --> WHY5(什么导致了原因3)
        WHY5 --> WHY6(什么导致了原因4)
    end
```

* 鱼骨图/因果图

mermaid暂时不支持，直接贴个bing上搜到的图片实例


### RCA分析过程

首要原则：碰到事故要先尽快将系统恢复，而不是进行分析。分析需要等到系统恢复后再进行。

在分析的时候需要有扎实的基础技术知识，在参与一些的RCA分析讨论中，经常有些人连技术点都完全不了解也敢于大胆发表比较业余的观点，而且这种人往往还是位高权重的，这种言论除了增加噪音和给分析添乱起不到任何正面作用。

针对故障的场景，首先分析可能的原因，然后根据这些可能的原因分别制定验证方案，验证是否能够重现故障现场。如果重现说明原因找到了，然后针对性的修复方案。修复方案基本上都是大家耳熟能详的一些操作。

在RCA最后一步一定要做的就是是否能够提前发现

此外如果故障的恢复比较慢的话还需要在分析是否能够更快地恢复。

题外话

《闻香识女人》中阿尔-帕西诺扮演的中尉在为查理辩护的时候提到“当我来到生活的十字路口，毫无例外我都知道那条路是正确的路，但我从来不选择走这条路，因为这条路太他妈的难了”。在技术上也是同样道理，走正确的路是一家相对比较辛苦的事情，虽然不强求大家一定走正确的路，但大家一定要知道什么是正确，不要把他人权宜的做法当作正确的来学。